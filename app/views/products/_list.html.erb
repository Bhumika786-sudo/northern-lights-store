<div style="display:grid; grid-template-columns: repeat(3, 1fr); gap:20px;">
  <% products.each do |p| %>
    <div style="border:1px solid #ccc; padding:10px;">
      <% if p.image.attached? %>
        <%= image_tag p.image, style:"width:100%; height:200px; object-fit:cover;" %>
      <% end %>

      <h3><%= link_to p.name, product_path(p) %></h3>
      <p><strong>Category:</strong> <%= p.category.name if p.category %></p>
      <p><strong>Price:</strong> $<%= p.current_price %></p>

      <% if p.on_sale %>
        <span style="color:red; font-weight:bold;">ON SALE!</span>
      <% end %>
    </div>
  <% end %>
</div>
