<div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4">
  <div class="card h-100 product-card">

    <% if product.image.attached? %>
      <%= image_tag product.image, class: "card-img-top" %>
    <% end %>

    <div class="card-body d-flex flex-column">
      <h5 class="card-title">
        <%= link_to product.name, product_path(product) %>
      </h5>

      <p class="card-text">
        <%= truncate(product.description, length: 80) %>
      </p>

      <p class="text-muted mb-2">
        <%= number_to_currency(product.current_price) %>
      </p>

      <div class="mt-auto">
        <%= button_to "Add to Cart",
                      add_cart_path(product),
                      method: :post,
                      class: "btn btn-primary btn-sm w-100 mb-2" %>

        <!-- Admin-style controls -->
        <div class="d-flex justify-content-between">
          <%= link_to "Edit",
                      edit_product_path(product),
                      class: "btn btn-outline-secondary btn-sm" %>

          <%= link_to "Delete",
                      product_path(product),
                      method: :delete,
                      data: { confirm: "Are you sure?" },
                      class: "btn btn-outline-danger btn-sm" %>
        </div>
      </div>
    </div>
  </div>
</div>
